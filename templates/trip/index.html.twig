{% extends 'base.html.twig' %}

{% block title %}Liste des sorties{% endblock %}

{% block body %}


    <div class="row my-4 justify-content-around">
        <h1>Liste des sorties</h1>
        <div class="col-md-6 text-md-right">
            <a href="{{ url('tripManage_create') }}" class="btn btn-primary w-20">Cr√©er une sortie</a>
        </div>
    </div>


    {% include 'trip/filter.html.twig' with {formSearch: formSearch} only %}


    <div class="container-fluid">
        <table class="table">
            <thead>
            <tr>
                <th scope="col">CAMPUS</th>
                <th scope="col">NOM DE LA SORTIE</th>
                <th scope="col">DATE DE LA SORTIE</th>
                <th scope="col">CLOTURES</th>
                <th scope="col">INSCRITS/PLACES</th>
                <th scope="col">ETAT</th>
                <th scope="col">INSCRIT</th>
                <th scope="col">ORGANISATEUR</th>
                <th scope="col">ACTIONS</th>
            </tr>
            </thead>
            <tbody>
            {% for trip in trips %}
                <tr>
                    <td>{{ trip.campus.name }}</td>
                    <td>{{ trip.name }}</td>
                    <td>{{ trip.dateStart|date("d/m/Y") }}</td>
                    <td>{{ trip.dateLimitInscription|date("d/m/Y") }}</td>
                    <td>{{ trip.duration }}</td>
                    <td>{{ trip.status }}</td>
                    <td>{{ "X" }}</td>
                    <td>{{ trip.promoter }}</td>
                    <td>{{ trip.informationTrip }}
                        {# TODO SUPPRIMER #}
                        {% if app.user != trip.promoter %}
                            <a href="{{ path('inscription_register', {'id': trip.id }) }}">S'inscrire</a>
                        {% endif %}
                        {# TODO JUSQUE LA #}
                    </td>
                </tr>
            {% endfor %}
            </tbody>
        </table>
        {# display navigation #}
        <div class="navigation row justify-content-center">
            {{ knp_pagination_render(trips) }}
        </div>
    </div>

{% endblock %}


